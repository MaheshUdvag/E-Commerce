(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[14],{483:function(e,t,n){"use strict";var a=n(22);t.a=function(){var e=Object(a.d)((function(e){return e.activeOrder}));return{order:e.order,error:e.error}}},485:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b}));var a=n(28),r=n(14),c=n.n(r),i=n(57),s=n(24),o=n.n(s),u=function(e,t,n){return o()({method:"GET",url:"/api/products/byCategory",params:{path:e,count:t,sortBy:n,storeName:"MaheshCommerce"},headers:{"content-type":"application/json"}})},l=function(e){return o()({method:"GET",url:"/api/products//detail/".concat(e),params:{storeName:"MaheshCommerce"},headers:{"content-type":"application/json"}})},d=n(489),j=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=4,d.isMobile&&(n=2),t({type:i.h}),e.next=6,c=n,o()({method:"GET",url:"/api/products",params:{count:c,storeName:"MaheshCommerce"},headers:{"content-type":"application/json"}});case 6:a=e.sent,r=a.data,t({type:i.i,payload:r.products}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:i.g,payload:e.t0.response});case 14:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n){return function(){var r=Object(a.a)(c.a.mark((function a(r){var s,o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:i.e}),a.next=4,u(e,t,n);case 4:s=a.sent,o=s.data,r({type:i.f,payload:o.category}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),r({type:i.d,payload:a.t0.response});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.b,payload:{loading:!0}}),t.next=4,l(e);case 4:a=t.sent,r=a.data,n({type:i.c,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.a,payload:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},490:function(e,t,n){"use strict";n(0);var a=n(103),r=n(9),c=n(12),i=n(1),s=Object(a.a)((function(e){return{error:{padding:30}}}));t.a=function(){var e=s();return Object(i.jsx)(r.a,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",className:e.error,children:Object(i.jsxs)(r.a,{item:!0,xs:3,children:[Object(i.jsx)("img",{alt:"no resutls",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfgrUiFnZKbTkCdl6z_uHD6PAQqkKsb_A7iA&usqp=CAU"}),Object(i.jsx)(c.a,{component:"h3",variant:"h3",children:"Aaaah! Something went wrong"}),Object(i.jsx)(c.a,{component:"p",variant:"subtitle2",children:"Brace yourself. we'll get this fixed as soon as possible. Sorry for inconvenience. As an interim fix try refreshing, if the issue is still persistent. Reach support - support@mcommerce.com"})]})})}},540:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),c=n(427),i=n(428),s=n(9),o=n(68),u=n(12),l=n(530),d=n(103),j=n(28),p=n(23),b=n(14),m=n.n(b),h=n(430),f=n(508),x=n.n(f),O=n(168),g=n.n(O),y=n(98),v=n(483),k=n(51),w=n(64),N=n(243),C=n(18),S=n(77),B=n(1),I=Object(d.a)((function(e){return{button:{width:"100%",margin:2},quantity:{justifyContent:"center",display:"flex"}}})),_=function(e){var t=e.product,n=I(),c=Object(r.c)(),i=Object(a.useState)(),l=Object(p.a)(i,2),d=l[0],b=l[1],f=Object(v.a)(),O=f.order,_=f.error,q=Object(w.a)().user,A=Object(a.useState)(!1),F=Object(p.a)(A,2),P=F[0],z=F[1],D=Object(a.useState)(!1),E=Object(p.a)(D,2),T=E[0],G=E[1],M=Object(a.useState)(null),H=Object(p.a)(M,2),R=H[0],U=H[1],J=Object(a.useState)("success"),K=Object(p.a)(J,2),L=K[0],W=K[1],$=function(e,t){"clickaway"!==t&&G(!1)},Q=function(e,t){U(_||e),W(t||"success"),G(!0)},V=function(){var e=Object(j.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(O&&Object.keys(O).length>0)){e.next=6;break}n=1,d&&(n+=d.quantity),Z(O._id,t._id,n,q.token),e.next=11;break;case 6:if(q){e.next=9;break}return e.next=9,c(Object(k.b)());case 9:return e.next=11,c(Object(y.a)(t._id,1));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(m.a.mark((function e(t,n,a,r){var i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!1,!a){e.next=7;break}return e.next=4,Object(S.b)(t,n,a,r);case 4:i=e.sent,e.next=11;break;case 7:return s=!0,e.next=10,Object(S.i)(t,n,r);case 10:i=e.sent;case 11:200===i.status||201===i.status?(Q("Updated cart successfully","success"),c(s?{type:C.c,payload:{}}:{type:C.c,payload:i.data})):Q("Error occured while updating cart","error");case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&(n=d.quantity,n-=1,Z(O._id,t._id,n<=0?0:n,q.token));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(O&&Object.keys(O).length>0){var e=O.orderItems.filter((function(e){return e.product._id===t._id}));e.length>0&&(b(e[0]),z(!0))}else b(null),z(!1)}),[O,t._id]),Object(B.jsxs)("div",{children:[P?Object(B.jsxs)(s.a,{container:!0,children:[Object(B.jsx)(s.a,{item:!0,lg:4,md:4,sm:4,xs:4,children:Object(B.jsx)(o.a,{color:"primary",variant:"contained",className:n.button,onClick:X,children:"-"})}),Object(B.jsx)(s.a,{item:!0,lg:4,md:4,sm:4,xs:4,children:Object(B.jsx)(u.a,{className:n.quantity,children:null===d||void 0===d?void 0:d.quantity})}),Object(B.jsx)(s.a,{item:!0,lg:4,md:4,sm:4,xs:4,children:Object(B.jsx)(o.a,{color:"primary",variant:"contained",className:n.button,onClick:V,children:"+"})})]}):Object(B.jsx)(o.a,{color:"primary",variant:"contained",className:n.button,startIcon:Object(B.jsx)(g.a,{}),onClick:V,children:"Add to Cart"}),Object(B.jsx)(o.a,{color:"primary",variant:"contained",className:n.button,startIcon:Object(B.jsx)(x.a,{}),children:"Save to wish list"}),Object(B.jsx)(h.a,{open:T,autoHideDuration:3e3,onClose:$,children:Object(B.jsx)(N.a,{onClose:$,severity:L,children:R})})]})},q=Object(d.a)((function(e){return{price:{fontWeight:"bold",fontSize:"x-large",marginLeft:2},reviews:{fontSize:"small"},listPrice:{fontSize:"small",marginLeft:5},contentBody:{padding:5},content:{padding:5,marginTop:10},title:{borderBottom:"2px solid #f0f0f0",padding:5},rating:{zIndex:-1}}})),A=function(e){var t=q(),n=e.product,a=e.description,r=Object(c.a)("(max-width:600px)");return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h5",children:n.name}),Object(B.jsxs)("div",{children:[Object(B.jsx)(u.a,{variant:"subtitle2",className:t.reviews,children:"10000 Reviews | 200 comments"}),Object(B.jsx)(l.a,{size:"small",name:"read-only",defaultValue:3.5,precision:.5,className:t.rating,readOnly:!0}),Object(B.jsxs)(u.a,{variant:"body2",children:["Price:"," ",Object(B.jsxs)("span",{className:t.price,children:["$",n.price.offerPrice.toFixed(2)]}),Object(B.jsxs)("del",{className:t.listPrice,children:["$",n.price.listPrice.toFixed(2)]})]})]}),r&&Object(B.jsx)(_,{product:n}),n.attributes.length>0?Object(B.jsxs)("div",{className:t.content,children:[Object(B.jsx)(u.a,{variant:"h6",className:t.title,children:"Specifications"}),n.attributes.map((function(e){return Object(B.jsxs)(s.a,{container:!0,spacing:3,className:t.contentBody,children:[Object(B.jsx)(s.a,{item:!0,lg:3,md:4,sm:6,xs:6,children:Object(B.jsx)(u.a,{className:t.contentBody,variant:"subtitle2",component:"p",children:e.name})}),Object(B.jsx)(s.a,{item:!0,lg:3,md:4,sm:6,xs:6,children:Object(B.jsx)(u.a,{variant:"subtitle2",component:"p",children:e.value})})]},e._id)}))]}):null,Object(B.jsxs)("div",{className:t.content,children:[Object(B.jsx)(u.a,{variant:"h6",className:t.title,children:"Description"}),Object(B.jsx)(u.a,{variant:"body2",className:t.contentBody,children:a.longDescription})]})]})},F=n(245),P=n(527),z=Object(F.a)((function(e){return{image:{maxHeight:500}}})),D=function(e){var t=e.image,n=e.alt,a=z();return Object(B.jsx)(P.a,{smallImage:{alt:n,isFluidWidth:!0,src:t},largeImage:{src:t,width:1200,height:1800},enlargedImageContainerDimensions:{width:"60%",height:"100%"},imageClassName:a.image})},E=n(485),T=n(490),G=n(15);t.default=function(e){var t=e.match.params.name,n=Object(G.g)(),u=Object(c.a)("(max-width:600px)"),l=Object(r.c)(),d=Object(r.d)((function(e){return e.productDetailByPathReducer})),j=d.product,p=d.loading,b=j&&0!==Object.keys(j).length?j.description.filter((function(e){return-1===e.language.languageId}))[0]:null,m=null!==b&&void 0!==b&&b.fullImage?b.fullImage:"",h=null!==j&&void 0!==j&&j.name?j.name:"";return Object(a.useEffect)((function(){l(Object(E.a)(t)),window.scrollTo(0,0)}),[t,l]),Object(B.jsx)(B.Fragment,{children:j&&Object.keys(j).length>0&&!p?Object(B.jsx)(i.a,{style:{paddingBottom:30},children:Object(B.jsxs)(s.a,{container:!0,spacing:4,children:[Object(B.jsx)(s.a,{item:!0,lg:4,md:6,sm:12,xs:12,children:Object(B.jsxs)("div",{style:{position:"sticky",top:120},children:[Object(B.jsx)(o.a,{onClick:function(){return n.goBack()},children:"Go Back"}),Object(B.jsx)(D,{image:m,alt:h}),!u&&Object(B.jsx)(_,{product:j})]})}),Object(B.jsx)(s.a,{item:!0,lg:8,md:6,sm:12,xs:12,children:Object(B.jsx)(A,{product:j,description:b})})]})}):p?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)(T.a,{})})}}}]);
//# sourceMappingURL=14.77d05307.chunk.js.map